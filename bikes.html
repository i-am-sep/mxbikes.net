<!DOCTYPE html>
<html>
<head>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <title>MXBikes.net - Bikes</title>
</head>
<body class="bg-gray-900 text-white">
    <div class="header">
        <div class="tabs">
            <a href="index.html" class="tab">Home</a>
            <a href="tracks.html" class="tab">Tracks</a>
            <a href="bikes.html" class="tab active">Bikes</a>
            <a href="rider.html" class="tab">Rider</a>
            <a href="ranked.html" class="tab">Ranked</a>
            <a href="championship.html" class="tab">Championship</a>
            <a href="downloads.html" class="tab downloads">Downloads</a>
        </div>
    </div>

    <div class="container mx-auto px-4 py-8 mt-20">
        <h2 class="text-3xl font-bold mb-8 text-center">Bike Mods</h2>
        
        <div id="modsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Mods will be loaded here dynamically -->
        </div>
    </div>

    <script>
        async function loadMods() {
            try {
                const response = await fetch('/data/mods.json');
                const mods = await response.json();
                const modsGrid = document.getElementById('modsGrid');
                
                mods.forEach(mod => {
                    // Get the first non-logo image for the mod
                    const mainImage = mod.images.find(img => 
                        !img.includes('Logo') && 
                        !img.includes('logo') && 
                        !img.includes('profile_photo')
                    ) || mod.images[0];

                    // Get download links excluding social media and template links
                    const downloads = mod.downloads.filter(d => 
                        !d.url.includes('twitter.com') && 
                        !d.url.includes('#download') &&
                        !d.label.includes('Templates')
                    );

                    const modCard = document.createElement('div');
                    modCard.className = 'bg-gray-800 rounded-lg overflow-hidden shadow-lg transition transform hover:scale-105';
                    modCard.innerHTML = `
                        <div class="relative pb-48">
                            <img class="absolute h-full w-full object-cover" 
                                 src="${mainImage}" 
                                 alt="${mod.name}"
                                 onerror="this.src='assets/images/placeholder.jpg'">
                        </div>
                        <div class="p-4">
                            <h3 class="text-xl font-bold mb-2">${mod.name}</h3>
                            <p class="text-gray-400 mb-4">${mod.description}</p>
                            <div class="space-y-2">
                                ${downloads.map(download => `
                                    <a href="${download.url}" 
                                       target="_blank" 
                                       class="block bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-center">
                                        ${download.label}
                                    </a>
                                `).join('')}
                            </div>
                        </div>
                    `;
                    modsGrid.appendChild(modCard);
                });
            } catch (error) {
                console.error('Error loading mods:', error);
                document.getElementById('modsGrid').innerHTML = `
                    <div class="col-span-full text-center text-red-500">
                        Error loading mods. Please try again later.
                    </div>
                `;
            }
        }

        // Load mods when the page loads
        document.addEventListener('DOMContentLoaded', loadMods);
    </script>

    <script src="scripts.js"></script>
</body>
</html>
